+function(t,e,s){"use strict";var i={calc:!1};e.fn.rrssb=function(t){var i=e.extend({description:s,emailAddress:s,emailBody:s,emailSubject:s,image:s,title:s,url:s},t);for(var r in i)i.hasOwnProperty(r)&&i[r]!==s&&(i[r]=n(i[r]));i.url!==s&&(e(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+i.url),e(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+i.url+(i.title!==s?"&name="+i.title:"")+(i.description!==s?"&description="+i.description:"")),e(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+i.url+(i.title!==s?"&title="+i.title:"")+(i.description!==s?"&summary="+i.description:"")),e(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(i.description!==s?i.description:"")+"%20"+i.url),e(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+i.url+(i.title!==s?"&text="+i.title:"")),e(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+i.url+(i.description!==s?"&text="+i.description:"")+(i.title!==s?"&title="+i.title:"")),e(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(i.description!==s?i.description:"")+"%20"+i.url),e(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+i.url+(i.image!==s?"&amp;media="+i.image:"")+(i.description!==s?"&amp;description="+i.description:"")),e(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+i.url),e(this).find(".rrssb-github a").attr("href",i.url)),i.emailAddress!==s&&e(this).find(".rrssb-email a").attr("href","mailto:"+i.emailAddress+"?"+(i.emailSubject!==s?"subject="+i.emailSubject:"")+(i.emailBody!==s?"&amp;body="+i.emailBody:""))};var r=function(){var t=e("<div>"),s=["calc","-webkit-calc","-moz-calc"];e("body").append(t);for(var r=0;r<s.length;r++)if(t.css("width",s[r]+"(1px)"),1===t.width()){i.calc=s[r];break}t.remove()},n=function(t){if(t!==s&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),n(t)}},a=function(){e(".rrssb-buttons").each(function(t){var s=e(this),i=e("li:visible",s),r=i.length,n=100/r;i.css("width",n+"%").attr("data-initwidth",n)})},l=function(){e(".rrssb-buttons").each(function(t){var s=e(this),i=s.width(),r=e("li",s).not(".small").first().width();if(r>170&&e("li.small",s).length<1){s.addClass("large-format");var n=r/12+"px";console.log("font-size is"+n),s.css("font-size",n)}else s.removeClass("large-format"),s.css("font-size","");200>i?s.removeClass("small-format").addClass("tiny-format"):s.removeClass("tiny-format")})},o=function(){e(".rrssb-buttons").each(function(t){var s=e(this),i=e("li",s),r=i.filter(".small"),n=0,a=0,l=r.first(),o=parseFloat(l.attr("data-size"))+55,c=r.length;if(c===i.length){var d=42*c,m=s.width();m>d+o&&(s.removeClass("small-format"),r.first().removeClass("small"),h())}else{i.not(".small").each(function(t){var s=e(this),i=parseFloat(s.attr("data-size"))+55,r=parseFloat(s.width());n+=r,a+=i});var u=n-a;u>o&&(l.removeClass("small"),h())}})},c=function(t){e(".rrssb-buttons").each(function(t){var s=e(this),i=e("li",s);e(i.get().reverse()).each(function(t,s){var r=e(this);if(r.hasClass("small")===!1){var n=parseFloat(r.attr("data-size"))+55,a=parseFloat(r.width());if(n>a){var l=i.not(".small").last();e(l).addClass("small"),h()}}--s||o()})}),t===!0&&m(h)},h=function(){e(".rrssb-buttons").each(function(t){var s,r,n,l,o,c=e(this),h=e("li",c),d=h.filter(".small"),m=d.length;m>0&&m!==h.length?(c.removeClass("small-format"),d.css("width","42px"),n=42*m,s=h.not(".small").length,r=100/s,o=n/s,i.calc===!1?(l=(c.innerWidth()-1)/s-o,l=Math.floor(1e3*l)/1e3,l+="px"):l=i.calc+"("+r+"% - "+o+"px)",h.not(".small").css("width",l)):m===h.length?(c.addClass("small-format"),a()):(c.removeClass("small-format"),a())}),l()},d=function(){e(".rrssb-buttons").each(function(t){e(this).addClass("rrssb-"+(t+1))}),r(),a(),e(".rrssb-buttons li .rrssb-text").each(function(t){var s=e(this),i=s.width();s.closest("li").attr("data-size",i)}),c(!0)},m=function(t){e(".rrssb-buttons li.small").removeClass("small"),c(),t()},u=function(e,i,r,n){var a=t.screenLeft!==s?t.screenLeft:screen.left,l=t.screenTop!==s?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,h=o/2-r/2+a,d=c/3-n/3+l,m=t.open(e,i,"scrollbars=yes, width="+r+", height="+n+", top="+d+", left="+h);m&&m.focus&&m.focus()},f=function(){var t={};return function(e,s,i){i||(i="Don't call this twice without a uniqueId"),t[i]&&clearTimeout(t[i]),t[i]=setTimeout(e,s)}}();e(document).ready(function(){e(document).on("click",".rrssb-buttons a.popup",{},function(t){var s=e(this);u(s.attr("href"),s.find(".rrssb-text").html(),580,470),t.preventDefault()}),e(t).resize(function(){m(h),f(function(){m(h)},200,"finished resizing")}),d()}),t.rrssbInit=d}(window,jQuery);